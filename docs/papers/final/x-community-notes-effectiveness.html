<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.31">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Jeff Parks, CUNY DATA 698 Research Project">
<meta name="dcterms.date" content="2025-05-13">

<title>Effectiveness and Systematic Constraints of X Community Notes</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-e1a5c8363afafaef2c763b6775fbf3ca.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-65c4e37609f03e9ac7f2e3cb1cc632f8.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="custom.css">
</head>

<body class="quarto-light">

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Contents</h2>
   
  <ul>
  <li><a href="#abstract" id="toc-abstract" class="nav-link active" data-scroll-target="#abstract">Abstract</a></li>
  <li><a href="#introduction" id="toc-introduction" class="nav-link" data-scroll-target="#introduction">1. Introduction</a></li>
  <li><a href="#research-questions" id="toc-research-questions" class="nav-link" data-scroll-target="#research-questions">2. Research Questions</a></li>
  <li><a href="#related-work" id="toc-related-work" class="nav-link" data-scroll-target="#related-work">3. Related Work</a></li>
  <li><a href="#background" id="toc-background" class="nav-link" data-scroll-target="#background">4. Background</a>
  <ul class="collapse">
  <li><a href="#x-community-notes" id="toc-x-community-notes" class="nav-link" data-scroll-target="#x-community-notes">4.1 X Community Notes</a>
  <ul class="collapse">
  <li><a href="#program-background" id="toc-program-background" class="nav-link" data-scroll-target="#program-background">Program Background</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#datasets" id="toc-datasets" class="nav-link" data-scroll-target="#datasets">5. Datasets</a>
  <ul class="collapse">
  <li><a href="#x-posts-tweets" id="toc-x-posts-tweets" class="nav-link" data-scroll-target="#x-posts-tweets">5.1 X Posts (Tweets)</a></li>
  <li><a href="#x-community-notes-1" id="toc-x-community-notes-1" class="nav-link" data-scroll-target="#x-community-notes-1">5.2 X Community Notes</a>
  <ul class="collapse">
  <li><a href="#post-classifications" id="toc-post-classifications" class="nav-link" data-scroll-target="#post-classifications">Post Classifications</a></li>
  <li><a href="#note-ratings" id="toc-note-ratings" class="nav-link" data-scroll-target="#note-ratings">Note Ratings</a></li>
  <li><a href="#a-note-on-algorithms" id="toc-a-note-on-algorithms" class="nav-link" data-scroll-target="#a-note-on-algorithms">5.3 A Note on Algorithms</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#time-to-publication-analysis" id="toc-time-to-publication-analysis" class="nav-link" data-scroll-target="#time-to-publication-analysis">6. Time-to-Publication Analysis</a>
  <ul class="collapse">
  <li><a href="#experiment-design" id="toc-experiment-design" class="nav-link" data-scroll-target="#experiment-design">6.1 Experiment Design</a>
  <ul class="collapse">
  <li><a href="#custom-metrics" id="toc-custom-metrics" class="nav-link" data-scroll-target="#custom-metrics">6.1.1 Custom Metrics</a></li>
  </ul></li>
  <li><a href="#data-exploration" id="toc-data-exploration" class="nav-link" data-scroll-target="#data-exploration">6.2 Data Exploration</a></li>
  <li><a href="#data-modeling-analysis" id="toc-data-modeling-analysis" class="nav-link" data-scroll-target="#data-modeling-analysis">6.3 Data Modeling &amp; Analysis</a>
  <ul class="collapse">
  <li><a href="#quantile-regression" id="toc-quantile-regression" class="nav-link" data-scroll-target="#quantile-regression">6.3.1 Quantile Regression</a></li>
  <li><a href="#random-forest" id="toc-random-forest" class="nav-link" data-scroll-target="#random-forest">6.3.2 Random Forest</a></li>
  </ul></li>
  <li><a href="#findings-and-discussion" id="toc-findings-and-discussion" class="nav-link" data-scroll-target="#findings-and-discussion">6.4 Findings and Discussion</a></li>
  <li><a href="#code-and-data" id="toc-code-and-data" class="nav-link" data-scroll-target="#code-and-data">6.5 Code and Data</a></li>
  </ul></li>
  <li><a href="#appendix" id="toc-appendix" class="nav-link" data-scroll-target="#appendix">9. Appendix</a>
  <ul class="collapse">
  <li><a href="#data-dictionary-analysis.notes_ttp" id="toc-data-dictionary-analysis.notes_ttp" class="nav-link" data-scroll-target="#data-dictionary-analysis.notes_ttp">9.1 Data Dictionary: analysis.notes_ttp</a></li>
  </ul></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Effectiveness and Systematic Constraints of X Community Notes</h1>
<p class="subtitle lead">A Quantitative Analysis of Misinformation Intervention on X During the 2024 U.S. Election</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Jeff Parks, CUNY DATA 698 Research Project </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">May 13, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="do">## import libraries</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="fu">library</span>(conflicted)</span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="fu">library</span>(corrr)</span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="fu">library</span>(mice, <span class="at">warn.conflicts =</span> <span class="cn">FALSE</span>)</span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="fu">library</span>(quantreg)</span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="fu">library</span>(ranger)</span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="fu">library</span>(tidymodels)</span>
<span id="cb1-10"><a href="#cb1-10"></a></span>
<span id="cb1-11"><a href="#cb1-11"></a><span class="co"># prefs</span></span>
<span id="cb1-12"><a href="#cb1-12"></a><span class="fu">conflict_prefer</span>(<span class="st">'filter'</span>,<span class="st">'dplyr'</span>)</span>
<span id="cb1-13"><a href="#cb1-13"></a><span class="fu">conflict_prefer</span>(<span class="st">'select'</span>,<span class="st">'dplyr'</span>)</span>
<span id="cb1-14"><a href="#cb1-14"></a><span class="fu">set.seed</span>(<span class="dv">40</span>)</span>
<span id="cb1-15"><a href="#cb1-15"></a></span>
<span id="cb1-16"><a href="#cb1-16"></a><span class="co"># ggplot</span></span>
<span id="cb1-17"><a href="#cb1-17"></a>custom_theme <span class="ot">&lt;-</span> <span class="fu">theme_minimal</span>() <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>))</span>
<span id="cb1-18"><a href="#cb1-18"></a><span class="fu">theme_set</span>(custom_theme)</span>
<span id="cb1-19"><a href="#cb1-19"></a></span>
<span id="cb1-20"><a href="#cb1-20"></a><span class="do">## Data load</span></span>
<span id="cb1-21"><a href="#cb1-21"></a></span>
<span id="cb1-22"><a href="#cb1-22"></a><span class="co"># csv</span></span>
<span id="cb1-23"><a href="#cb1-23"></a>df_notes <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">'data/df_notes.csv'</span>)</span>
<span id="cb1-24"><a href="#cb1-24"></a>df_tweets_sum <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">'data/df_tweets_sum.csv'</span>)</span>
<span id="cb1-25"><a href="#cb1-25"></a>df_nicenames <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">'data/nicenames.csv'</span>)</span>
<span id="cb1-26"><a href="#cb1-26"></a></span>
<span id="cb1-27"><a href="#cb1-27"></a><span class="co"># db</span></span>
<span id="cb1-28"><a href="#cb1-28"></a><span class="co"># library(duckdb)</span></span>
<span id="cb1-29"><a href="#cb1-29"></a><span class="co"># con &lt;- dbConnect(duckdb(), dbdir='/Volumes/seagate_5tb/twitter.duckdb', read_only=TRUE)</span></span>
<span id="cb1-30"><a href="#cb1-30"></a><span class="co"># df_notes &lt;- dbGetQuery(con, "select * from analysis.notes_ttp")</span></span>
<span id="cb1-31"><a href="#cb1-31"></a><span class="co"># df_tweets_sum &lt;- dbGetQuery(con, "select * from analysis.tweets_all_summary")</span></span>
<span id="cb1-32"><a href="#cb1-32"></a><span class="co"># df_tweets_noted_sum &lt;- dbGetQuery(con, "select * from analysis.tweets_noted_summary")</span></span>
<span id="cb1-33"><a href="#cb1-33"></a><span class="co"># dbDisconnect(con, shutdown = TRUE)</span></span>
<span id="cb1-34"><a href="#cb1-34"></a></span>
<span id="cb1-35"><a href="#cb1-35"></a><span class="co"># save these to file for final paper</span></span>
<span id="cb1-36"><a href="#cb1-36"></a><span class="co"># write.csv(df_notes, 'data/df_notes.csv', row.names=FALSE)</span></span>
<span id="cb1-37"><a href="#cb1-37"></a><span class="co"># write.csv(df_tweets_sum, 'data/df_tweets_sum.csv', row.names=FALSE)</span></span>
<span id="cb1-38"><a href="#cb1-38"></a></span>
<span id="cb1-39"><a href="#cb1-39"></a><span class="do">## Data prep for EDA</span></span>
<span id="cb1-40"><a href="#cb1-40"></a></span>
<span id="cb1-41"><a href="#cb1-41"></a><span class="co"># initial feature select - unused features</span></span>
<span id="cb1-42"><a href="#cb1-42"></a>drop_cols <span class="ot">=</span> <span class="fu">c</span>(<span class="st">'nt_id'</span>,<span class="st">'nt_summary'</span>,<span class="st">'nt_author_id'</span>,<span class="st">'nt_ts_created'</span>,<span class="st">'twt_id'</span>,<span class="st">'twt_author_id'</span>,<span class="st">'twt_reply_author_id'</span>,<span class="st">'twt_convo_id'</span>,<span class="st">'twt_url'</span>,<span class="st">'user_created_dt'</span>,<span class="st">'nt_class_notmis_notoutdated'</span>,<span class="st">'twt_is_retweet'</span>,<span class="st">'nr_helpful_empathy'</span>,<span class="st">'nr_helpful_ctxt_unique'</span>,<span class="st">'nr_nothelpful_opinion_bias'</span>,<span class="st">'nr_nothelpful_outdated'</span>,<span class="st">'nr_nothelpful_offtopic'</span>,<span class="st">'nt_created_min'</span>)</span>
<span id="cb1-43"><a href="#cb1-43"></a></span>
<span id="cb1-44"><a href="#cb1-44"></a>df_notes_all <span class="ot">&lt;-</span> df_notes <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span><span class="fu">all_of</span>(drop_cols)) </span>
<span id="cb1-45"><a href="#cb1-45"></a>df_notes_pub <span class="ot">&lt;-</span> df_notes <span class="sc">%&gt;%</span> <span class="fu">filter</span>(nt_publish <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span><span class="fu">all_of</span>(drop_cols)) <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span><span class="fu">all_of</span>(<span class="st">'nt_publish'</span>))</span>
<span id="cb1-46"><a href="#cb1-46"></a>df_notes_unpub <span class="ot">&lt;-</span> df_notes <span class="sc">%&gt;%</span> <span class="fu">filter</span>(nt_publish <span class="sc">==</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span><span class="fu">all_of</span>(drop_cols)) <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span><span class="fu">all_of</span>(<span class="st">'nt_publish'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="abstract" class="level1">
<h1>Abstract</h1>
<p><em>This study examines the effectiveness of X’s Community Notes as a community-driven intervention against misinformation during the 2024 U.S. Presidential Election. Quantitative analysis of 38.5 million election-related posts and 13,745 Community Notes, identified both strengths and limitations in the program’s implementation. The median publication time of 8.7 hours was relatively prompt, though with extreme variability (SD 158.7). Quantile regression revealed that time-to-publication varied systematically by observable factors: some logically (posts classified as misinformation published faster) while others appeared counterproductive (rater agreement on lower-quality notes associated with shorter publication times than those with reliable sources). Rater participation emerged as one of the strongest factors affecting publication speed, aligning with the platform’s acknowledged challenges of data sparsity and resulting score instability. However, overall program coverage remained minimal, with only 0.014% of posts receiving Notes and just 4% of submitted Notes ever reaching publication status. These findings suggest systemic constraints significantly limit the potential effectiveness of community-driven interventions at platform scale, particularly during critical periods such as elections.</em></p>
</section>
<section id="introduction" class="level1">
<h1>1. Introduction</h1>
<p>The proliferation of misinformation on social networks has emerged as a significant societal concern, posing risks not only to individual users but also to public discourse, democratic institutions, and brand safety. While platforms are required to act against clearly illegal content, a more complex challenge lies in moderating content that is legal yet harmful. This includes false or misleading claims about elections, health, and personal data that fall short of illegality but may still inflict substantial harm.</p>
<p>Historically, most social media platforms relied on centralized moderation systems. These included internal trust and safety teams, third-party fact-checking partnerships, and automated detection systems trained on curated ground truth. However, in recent years, several platforms have scaled back or entirely eliminated these centralized interventions in favor of what are termed community-driven interventions (CDIs). In CDIs, content moderation decisions are crowd-sourced to the user base, leveraging democratic participation rather than institutional expertise.</p>
<p>While community-driven models have shown notable success in certain contexts—most famously on Wikipedia—the shift raises important questions when applied to platforms with vastly different engagement structures and incentives. Unlike Wikipedia, which rewards stability and authoritativeness, platforms like X (formerly Twitter), Meta, and TikTok optimize for virality, user retention, and advertising revenue. These dynamics create potential tensions between platform goals and the integrity of the information ecosystem.</p>
</section>
<section id="research-questions" class="level1">
<h1>2. Research Questions</h1>
<p>This study defines community-driven interventions (CDIs) as moderation actions initiated or executed by non-professional platform users, including flagging, reporting, annotating, voting, and commenting with corrective information. The core outcome of interest is whether such interventions reduce the <strong>spread, visibility, or impact</strong> of misinformation.</p>
<p>Based on the literature and observed platform behaviors, this study proposes to explore one or more of the following Research Questions:</p>
<ul>
<li><p><strong>RQ1: Do CDIs significantly impact user perceptions and behavior towards misinformation on a given platform?</strong></p></li>
<li><p><strong>RQ2: Do CDIs impact a significant majority of user engagements and exposure to misinformation on a given platform?</strong></p></li>
<li><p><strong>RQ3: Are there procedural or systemic constraints impacting CN speed and effectiveness on a given platform?</strong></p></li>
</ul>
</section>
<section id="related-work" class="level1">
<h1>3. Related Work</h1>
<p>Research underscores the need for fast and impactful intervention programs on social media due to the viral and often sensational nature of misinformation. However, it is unclear what impacts CDI programs actually have on end-user perceptions and behavior, and there may be concerns around the structure and makeup of participant pools for these community-driven programs.</p>
<ul>
<li><p><strong>Misinformation and “novel content” may be inherently more viral and impactful than truthful content.</strong></p>
<p>A comprehensive MIT study of X (formerly Twitter) news stories from 2006 to 2017 demonstrated how fake and sensational narratives outpaced truthful ones. “Falsehood diffused significantly farther, faster, deeper, and more broadly than the truth in all categories of information, and the effects were more pronounced for false political news than for false news about terrorism, natural disasters, science, urban legends, or financial information. We found that false news was more novel than true news, which suggests that people were more likely to share novel information.” <span class="citation" data-cites="vosoughi2018">(<a href="#ref-vosoughi2018" role="doc-biblioref">Vosoughi, Roy, and Aral 2018</a>)</span></p></li>
<li><p><strong>CDI impacts on end-user perceptions and behavior are not well-understood, even when interventions are of good quality.</strong></p>
<p>In an April 2024 research letter published in the&nbsp;<em>Journal of the American Medical Association</em>, titled “Characteristics of X (Formerly Twitter) Community Notes Addressing COVID-19 Vaccine Misinformation,” the authors describe a robust application of Community Notes (CNs) in response to vaccine-related misinformation. The study found that CNs primarily addressed adverse events and conspiracy theories, were accurate, cited moderate to high credibility sources, and were attached to posts viewed hundreds of millions of times.<br>
<br>
However, the authors explicitly state that their study only assessed <em>note quality</em>, not effects on user perception or behavior. The study also did not address the timing of these interventions, or the proportions of those views that occurred post-intervention.<span class="citation" data-cites="allen2024">(<a href="#ref-allen2024" role="doc-biblioref">M. R. Allen et al. 2024</a>)</span></p></li>
<li><p><strong>CDI participant pools may be animated by political identity and other biases.<br>
<br>
</strong>Political partisanship has also been identified as a significant factor influencing CDI effectiveness on X. A 2022 paper from MIT found clear evidence that Birdwatch (now known as Community Notes) users preferentially challenged content from political opponents.<span class="citation" data-cites="allen2022">(<a href="#ref-allen2022" role="doc-biblioref">J. Allen, Martel, and Rand 2022</a>)</span><br>
<br>
Research has also demonstrated that X “Blue” premium accounts, while constituting only 12% of the userbase, were responsible for 74% of all misinformation posts in the opening weeks of the most recent Israeli-Palestinian conflict. “.. just 79 of the 250 posts advancing misinformation about the war were flagged by the platform with a Community Note …a note appeared approximately 32 percent of the time on some of the platform’s most prominent and harmful misinformation posts.” <span class="citation" data-cites="brewster2023">(<a href="#ref-brewster2023" role="doc-biblioref">Brewster, Howard, and Schimmel 2023</a>)</span></p></li>
</ul>
</section>
<section id="background" class="level1">
<h1>4. Background</h1>
<section id="x-community-notes" class="level2">
<h2 class="anchored" data-anchor-id="x-community-notes">4.1 X Community Notes</h2>
<section id="program-background" class="level3">
<h3 class="anchored" data-anchor-id="program-background">Program Background</h3>
<p>Community-Driven Interventions, or CDIs, represent a shift from centralized platform moderation to crowd-sourced approaches.</p>
<p>X Community Notes launched in 2021 as “Birdwatch” and combines user-generated fact checking with complex algorithmic approaches to publish only those Notes that achieve a broad consensus between approved program participants.</p>
<ul>
<li><p>Approved program participants create Community Notes on posts they believe contain misleading information, adding context and classifying content as potentially misleading or not, with their reasoning and sources.</p></li>
<li><p>Other program participants (who must have a sufficient “rating impact” score) then rate these Community Notes as Helpful/Not Helpful based on whether they provide valuable context.</p></li>
<li><p>X’s algorithms use these ratings to calculate an overall “helpfulness score” for each Community Note, identifying those that earn consensus across users with diverse rating histories (e.g., “people who normally disagree found this Note helpful”).</p></li>
<li><p>Only Community Notes that reach a sufficient helpfulness threshold from opinion-diverse raters are publicly displayed on posts.</p></li>
<li><p>The presence of a Community Note on a given post does not restrict the post from public view or interfere with any of the engagement tools (likes, reposts, etc.)</p></li>
</ul>
</section>
</section>
</section>
<section id="datasets" class="level1">
<h1>5. Datasets</h1>
<p>Due to data availability and resource limitations, this study focuses specifically on X user activity and the performance of their Community Notes program during the 2024 U.S. Presidential Election.</p>
<section id="x-posts-tweets" class="level2">
<h2 class="anchored" data-anchor-id="x-posts-tweets">5.1 X Posts (Tweets)</h2>
<p><strong>The 2024 Election Integrity Initiative</strong> at USC publishes a curated, publicly available dataset of X posts (tweets) related to the 2024 US Presidential Election. <span class="citation" data-cites="balasubramanian">(<a href="#ref-balasubramanian" role="doc-biblioref">Balasubramanian et al., n.d.</a>)</span></p>
<p>This dataset was retrieved on March 1, 2025, and converted from CSV to Parquet. Dataset was then loaded into a persistent database using DuckDB, reducing total storage size from 45GB to 27GB and enabling reasonable database performance on consumer hardware.</p>
<p>Available fields include original post ID, author ID and account details, replied-to or mentioned author IDs, text content, hashtags, links to media content, views and other engagement metrics. See Appendix 9.1 for a data dictionary of the composite table <code>analysis.notes_ttp</code>.</p>
</section>
<section id="x-community-notes-1" class="level2">
<h2 class="anchored" data-anchor-id="x-community-notes-1">5.2 X Community Notes</h2>
<p>X maintains a public repository of Community Notes data featuring annotated user-generated Notes with timestamps, contributor metadata, community ratings and algorithmically determined publishing status. <span class="citation" data-cites="xcommun2025">(<a href="#ref-xcommun2025" role="doc-biblioref"><span>“X Community Notes”</span> 2025</a>)</span></p>
<p>All four Community Notes datasets (<strong>Notes</strong>, <strong>Ratings</strong>, <strong>Note Status History</strong> and <strong>User Enrollment</strong>) were retrieved on February 22, 2025, and converted from CSV to Parquet. Datasets were then loaded into a persistent database using DuckDB, reducing total storage size from 30GB to 4GB (high sparsity) and enabling reasonable database performance on consumer hardware.</p>
<p>Two main sets of Community Note metrics were analyzed for this study, Post Classifications and Note Ratings. See Appendix 9.1 for a data dictionary of the composite table <code>analysis.notes_ttp</code>.</p>
<section id="post-classifications" class="level3">
<h3 class="anchored" data-anchor-id="post-classifications">Post Classifications</h3>
<p>Designated by the Community Note author, classifying whether the attached Post is misinformation / misleading, with subcategories for additional context. These are expressed as Boolean in the dataset.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 34%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th>Post is Not Misinfo<br>
(nt_class_misinfo = 0)</th>
<th>Post is Misinfo<br>
(nt_class_misinfo = 1)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Media Manipulation</td>
<td>Factually Correct</td>
</tr>
<tr class="even">
<td>Misleading</td>
<td>Not Outdated</td>
</tr>
<tr class="odd">
<td>No Context</td>
<td>Opinion</td>
</tr>
<tr class="even">
<td>Not Factual</td>
<td>Other</td>
</tr>
<tr class="odd">
<td>Outdated</td>
<td>Satire</td>
</tr>
<tr class="even">
<td>Satire</td>
<td></td>
</tr>
<tr class="odd">
<td>Unverified</td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="note-ratings" class="level3">
<h3 class="anchored" data-anchor-id="note-ratings">Note Ratings</h3>
<p>Designated by Community Note program users, classifying whether the attached Community Note is <strong>Helpful</strong>, <strong>Somewhat Helpful</strong> or <strong>Not Helpful</strong> with subcategories for additional context. These are expressed as Boolean in the original data, but here counts are aggregated and expressed as proportions per Note (since the total number of ratings per Note can vary widely.)</p>
<table class="caption-top table">
<colgroup>
<col style="width: 34%">
<col style="width: 37%">
</colgroup>
<thead>
<tr class="header">
<th>Note is Not Helpful</th>
<th>Note is Helpful /<br>
Note is Somewhat Helpful</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Argumentative</td>
<td>Addresses Issue</td>
</tr>
<tr class="even">
<td>Biased Opionion</td>
<td>Clear</td>
</tr>
<tr class="odd">
<td>Factually Incorrect</td>
<td>Important Context</td>
</tr>
<tr class="even">
<td>Hard to Understand</td>
<td>Shows Empathy</td>
</tr>
<tr class="odd">
<td>Missing Information</td>
<td>Trustworthy Sources</td>
</tr>
<tr class="even">
<td>Off Topic / Irrelevant</td>
<td>Unbiased</td>
</tr>
<tr class="odd">
<td>Outdated</td>
<td></td>
</tr>
<tr class="even">
<td>Spam</td>
<td></td>
</tr>
<tr class="odd">
<td>Speculation</td>
<td></td>
</tr>
<tr class="even">
<td>Untrustworthy Sources</td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="a-note-on-algorithms" class="level3">
<h3 class="anchored" data-anchor-id="a-note-on-algorithms">5.3 A Note on Algorithms</h3>
<p>While an analysis of the Community Note open-source algorithms are outside the scope of this study, a review of the <a href="https://communitynotes.x.com/guide/en/under-the-hood/ranking-notes">documentation</a> is suggested, especially as they pertain to some of the findings. <span class="citation" data-cites="noteran2025">(<a href="#ref-noteran2025" role="doc-biblioref"><span>“Note Ranking Algorithm”</span> 2025</a>)</span></p>
<ul>
<li><p><strong>Data Sparsity:</strong> The main algorithm is essentially a sparse-matrix recommender, stemming from the low participation rates by Community Notes raters. The authors acknowledge “most raters do not rate most notes - and this sparsity leads to outliers and noise in the data.” Their solution is described as “higher regularization”, but the continued layering of additional models (Expanded Consensus, Net Helpful Minimums) suggests this problem remains challenging.</p></li>
<li><p><strong>Scoring Instability:</strong> This data sparsity also contributes to instability of Community Note scores over time and is specifically addressed in the documentation: “…newer notes are able to receive more ratings from a wider range of contributors while the available ranking data for older notes remains more limited. As older data comprise an increasingly small fraction of the dataset, ranking results have tended to fluctuate, and some notes have lost Helpful status.”. Additional model layers (Scoring DriftCard) and “status locking” have been added to address this issue, but the data show this likely remains a problem.</p></li>
<li><p><strong>Binary Decision Spaces</strong>: One of the unique properties of the Community Note algorithms is to attempt “bridging” and building consensus among Raters with different political and social viewpoints, as represented by their individual rating histories. However, the documentation seems to acknowledge the computational difficulty at present of expanding into multidimensional viewpoint factors. “…for now, to avoid overfitting on our very small dataset, we only use 1-dimensional factors. We expect to increase this dimensionality as our dataset size grows significantly.”</p></li>
</ul>
</section>
</section>
</section>
<section id="time-to-publication-analysis" class="level1">
<h1>6. Time-to-Publication Analysis</h1>
<section id="experiment-design" class="level2">
<h2 class="anchored" data-anchor-id="experiment-design">6.1 Experiment Design</h2>
<p>Prior work has suggested that the time-to-publication (TTP) of Community Notes interventions on X may be unacceptably long, blunting the potential impact of these interventions. This analysis will group CNs by their elapsed time between inception and publication and attempt to identify those characteristics associated with shorter and longer publish times. Possible factors may include post topics and subtopics, author account size and reach, post timing, post and reply content and sentiment, and measures of polarization / disagreement within the CN ratings data that may impact the algorithmically determined publish status.</p>
<ul>
<li><p><strong>Research Question 3:</strong> Are there procedural or systemic constraints impacting CN speed and effectiveness on a given platform?</p></li>
<li><p><strong>Hypothesis:</strong> CN time-to-publication varies systematically by observable factors (e.g., topic, account influence, timing, polarization of CN rater agreement), implying procedural or systemic constraints.</p></li>
<li><p><strong>Experiment Design:</strong></p>
<ul>
<li><p>ANOVA Difference of Means, Linear, GLM or Robust Regression, Quantile Regression, Non-Parametric Models.</p>
<ul>
<li><p>Target Variable: <span class="math inline">\(T_{pub}=TS_{CNpub} - TS_{post}\)</span></p></li>
<li><p>Predictors: Community Note classifications, Community Note user ratings, Post engagement metrics and metadata, Post Author metadata, Custom Polarization metrics.</p></li>
</ul></li>
</ul></li>
<li><p><strong>Constraints:</strong> Several data-related limitations shaped the extent and types of analysis carried out in this study:</p>
<ul>
<li><p><strong>Aggregated Engagement Metrics</strong> in the Twitter Firehose API data make timeseries-based analysis such as Cascades <span class="citation" data-cites="vosoughi2018">(<a href="#ref-vosoughi2018" role="doc-biblioref">Vosoughi, Roy, and Aral 2018</a>)</span> difficult.</p></li>
<li><p><strong>Limited Access</strong> to the Twitter Firehose API due to increased costs restricted this study to datasets already obtained by other researchers.</p></li>
<li><p><strong>Additional scraping</strong> of replies or user profiles may be challenging to perform at scale due to resource and processing constraints.</p></li>
</ul></li>
</ul>
<section id="custom-metrics" class="level3">
<h3 class="anchored" data-anchor-id="custom-metrics">6.1.1 Custom Metrics</h3>
<p>Several custom metrics are proposed to help quantify the aggregate CN ratings and levels of agreement/disagreement (polarization) between members of the CN ratings user base:</p>
<table class="caption-top table">
<colgroup>
<col style="width: 100%">
</colgroup>
<thead>
<tr class="header">
<th>Mean Helpfulness Score</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math display">\[M  = \frac{(1×H)+(0.5×S)+(−1×N)}{H+S+N}\]</span></td>
</tr>
<tr class="even">
<td><p>Applied to the aggregated ratings on an individual Community Note, this metric indicates whether users found the CN helpful on average. A simple weighted average with numeric values assigned to each CN rating category:</p>
<p><strong>(H)</strong>elpful = +1.0<br>
<strong>(S)</strong>omewhat Helpful = +0.5<br>
<strong>(N)</strong>ot Helpful = -1.0</p></td>
</tr>
</tbody>
</table>
<table class="caption-top table">
<colgroup>
<col style="width: 100%">
</colgroup>
<thead>
<tr class="header">
<th>Polarization Index - Standard (Ps)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math display">\[P_S= \frac{1}{2} \sqrt{\frac{(H⋅(1−ABS(M))^2)+(S⋅(0.5−ABS(M))^2)+(N⋅(−1−ABS(M))^2)}{H+S+N}}\]</span></td>
</tr>
<tr class="even">
<td><p>An index of opinion polarization of individual CNs based on the spread of their aggregated ratings. If ratings are <strong>all in one category</strong>, there’s no disagreement (low polarization). If ratings are <strong>evenly split between extremes</strong>, the polarization is high.</p>
<p>Normally an index 0-1, but I halve the final result for an index from 0 (no polarization) to 0.5 (perfect polarization). More interpretable as “% of total population in disagreement”. Uses the Mean Helpfulness Score (M).</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="data-exploration" class="level2">
<h2 class="anchored" data-anchor-id="data-exploration">6.2 Data Exploration</h2>
<p>Initial exploration of the two datasets revealed several major insights:</p>
<p><strong>Community Notes impact a very small percentage (~0.02%) of posts on the platform.</strong></p>
<ul>
<li><p>Of 38.5M election-related posts in this dataset, only 5,551 (0.014%) received one or more notes.</p></li>
<li><p>Although a current metric of misinformation on the platform is not readily available, this percentage seems rather low given the typical user experience and general prevalence of this content, especially during the 2024 election.</p></li>
</ul>
<p><strong>Only 4% of all submitted Community Notes have ever been published; 96% remain hidden from the general public.</strong></p>
<ul>
<li>Of the 13,745 election-related notes, only 585 (4.3%) were ever published (classified Helpful) at some point. 12,238 (89%) were still classified “Need More Votes” (NMR) three months after the November 2024 election.</li>
</ul>
<p><strong>The median Community Note time-to-publish (TTP) is 8.7 hours, but with a great degree of variation (Mean 35.8 and SD 158.7)</strong></p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>df_notes_pub <span class="sc">%&gt;%</span></span>
<span id="cb2-2"><a href="#cb2-2"></a>  <span class="fu">mutate</span>(<span class="at">ttp_hrs =</span> nt_publish_min<span class="sc">/</span><span class="dv">60</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-3"><a href="#cb2-3"></a>  <span class="co"># filter(ttp_hrs &lt; 500) %&gt;%</span></span>
<span id="cb2-4"><a href="#cb2-4"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>ttp_hrs)) <span class="sc">+</span></span>
<span id="cb2-5"><a href="#cb2-5"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins=</span><span class="dv">30</span>, <span class="at">alpha=</span><span class="fl">0.5</span>, <span class="at">color=</span><span class="st">'black'</span>) <span class="sc">+</span></span>
<span id="cb2-6"><a href="#cb2-6"></a>  <span class="fu">geom_vline</span>(<span class="fu">aes</span>(<span class="at">xintercept =</span> <span class="fu">quantile</span>(ttp_hrs, <span class="fl">0.25</span>)), <span class="at">color=</span><span class="st">'grey'</span>, <span class="at">linetype=</span><span class="st">'dotted'</span>, <span class="at">size=</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb2-7"><a href="#cb2-7"></a>  <span class="fu">geom_vline</span>(<span class="fu">aes</span>(<span class="at">xintercept =</span> <span class="fu">quantile</span>(ttp_hrs, <span class="fl">0.50</span>)), <span class="at">color=</span><span class="st">'green'</span>, <span class="at">linetype=</span><span class="st">'dotted'</span>, <span class="at">size=</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb2-8"><a href="#cb2-8"></a>  <span class="fu">geom_vline</span>(<span class="fu">aes</span>(<span class="at">xintercept =</span> <span class="fu">quantile</span>(ttp_hrs, <span class="fl">0.75</span>)), <span class="at">color=</span><span class="st">'grey'</span>, <span class="at">linetype=</span><span class="st">'dotted'</span>, <span class="at">size=</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb2-9"><a href="#cb2-9"></a>  <span class="fu">geom_vline</span>(<span class="fu">aes</span>(<span class="at">xintercept =</span> <span class="fu">quantile</span>(ttp_hrs, <span class="fl">0.82</span>)), <span class="at">color=</span><span class="st">'grey'</span>, <span class="at">linetype=</span><span class="st">'dotted'</span>, <span class="at">size=</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb2-10"><a href="#cb2-10"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="fu">quantile</span>(df_notes_pub<span class="sc">$</span>nt_publish_min<span class="sc">/</span><span class="dv">60</span>, <span class="fl">0.50</span>), <span class="at">y =</span> <span class="dv">80</span>, <span class="at">label =</span> <span class="st">'50%'</span>, <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">0.5</span>, <span class="at">hjust =</span> <span class="sc">-</span>.<span class="dv">25</span>) <span class="sc">+</span></span>
<span id="cb2-11"><a href="#cb2-11"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="fu">quantile</span>(df_notes_pub<span class="sc">$</span>nt_publish_min<span class="sc">/</span><span class="dv">60</span>, <span class="fl">0.83</span>), <span class="at">y =</span> <span class="dv">80</span>, <span class="at">label =</span> <span class="st">'83%'</span>, <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">0.5</span>, <span class="at">hjust =</span> <span class="sc">-</span>.<span class="dv">25</span>) <span class="sc">+</span></span>
<span id="cb2-12"><a href="#cb2-12"></a>  <span class="fu">scale_x_continuous</span>(</span>
<span id="cb2-13"><a href="#cb2-13"></a>    <span class="at">trans =</span> <span class="st">'log1p'</span>,</span>
<span id="cb2-14"><a href="#cb2-14"></a>    <span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_number</span>(),</span>
<span id="cb2-15"><a href="#cb2-15"></a>    <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">8</span>, <span class="dv">12</span>, <span class="dv">18</span>, <span class="dv">24</span>, <span class="dv">36</span>, <span class="dv">48</span>, <span class="dv">72</span>, <span class="dv">100</span>, <span class="dv">200</span>, <span class="dv">500</span>, <span class="dv">1000</span>, <span class="dv">2000</span>)</span>
<span id="cb2-16"><a href="#cb2-16"></a>  ) <span class="sc">+</span></span>
<span id="cb2-17"><a href="#cb2-17"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Notes - Time-to-Publish Distribution (log)"</span>, <span class="at">x =</span> <span class="st">"Hrs"</span>, <span class="at">y =</span> <span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb2-18"><a href="#cb2-18"></a>  <span class="fu">theme</span>(<span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(), <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>()) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="x-community-notes-effectiveness_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
<ul>
<li>83% of Community Notes that reach an initial Publish status do so within 24 hours.</li>
<li>The distribution of our response variable TTP is extremely right-skewed.</li>
</ul>
<p><strong>Community Notes classifications can be unstable - over 36% of classified Notes have had their status changed, including 38% of all published notes.</strong></p>
<ul>
<li><p>Of 1,507 election-related notes successfully classified as either “Helpful” or “Not Helpful”, 554 (36.8%) had their status changed back to NMR.</p></li>
<li><p>Of the 585 notes ever published (“Helpful”), 224 (38%) later had their public status revoked.</p></li>
<li><p>Only 261 (2.6%) of all notes created remain published (“Helpful”).</p></li>
</ul>
<p><strong>The Community Notes program was essentially disabled for the entire month of August 2024.</strong></p>
<ul>
<li>After a rapid increase in program activity in prior months, Community Notes submissions halted abruptly at the end of July 2024 and no notes were published until September 1, when activity suddenly resumed (though at reduced levels.)</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>df_notes_publish_dt <span class="ot">&lt;-</span> df_notes <span class="sc">%&gt;%</span> </span>
<span id="cb3-2"><a href="#cb3-2"></a>  <span class="fu">mutate</span>(<span class="at">nt_dt_created =</span> <span class="fu">as.Date</span>(nt_ts_created)) <span class="sc">%&gt;%</span></span>
<span id="cb3-3"><a href="#cb3-3"></a>  <span class="fu">group_by</span>(nt_dt_created) <span class="sc">%&gt;%</span></span>
<span id="cb3-4"><a href="#cb3-4"></a>  <span class="fu">summarize</span>(<span class="at">note_count =</span> <span class="fu">n</span>(), <span class="at">notes_published =</span> <span class="fu">sum</span>(nt_publish)) <span class="sc">%&gt;%</span></span>
<span id="cb3-5"><a href="#cb3-5"></a>  <span class="fu">mutate</span>(<span class="at">pct_publish =</span> <span class="fu">round</span>(notes_published<span class="sc">/</span>note_count,<span class="dv">2</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb3-6"><a href="#cb3-6"></a>  <span class="fu">arrange</span>(nt_dt_created)</span>
<span id="cb3-7"><a href="#cb3-7"></a></span>
<span id="cb3-8"><a href="#cb3-8"></a>scale <span class="ot">=</span> <span class="fl">0.0005</span></span>
<span id="cb3-9"><a href="#cb3-9"></a></span>
<span id="cb3-10"><a href="#cb3-10"></a>df_notes_publish_dt <span class="sc">%&gt;%</span></span>
<span id="cb3-11"><a href="#cb3-11"></a>  <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">as.Date</span>(<span class="fu">cut</span>(<span class="fu">as.Date</span>(nt_dt_created), <span class="at">breaks =</span> <span class="st">"7 days"</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb3-12"><a href="#cb3-12"></a>  <span class="fu">group_by</span>(date) <span class="sc">%&gt;%</span></span>
<span id="cb3-13"><a href="#cb3-13"></a>  <span class="fu">summarize</span>(<span class="at">note_count =</span> <span class="fu">sum</span>(note_count), <span class="at">notes_published =</span> <span class="fu">sum</span>(notes_published)) <span class="sc">%&gt;%</span></span>
<span id="cb3-14"><a href="#cb3-14"></a>  <span class="fu">mutate</span>(<span class="at">pct_publish =</span> notes_published <span class="sc">/</span> note_count) <span class="sc">%&gt;%</span></span>
<span id="cb3-15"><a href="#cb3-15"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> date)) <span class="sc">+</span></span>
<span id="cb3-16"><a href="#cb3-16"></a>  <span class="co"># Transparent red rectangle for August</span></span>
<span id="cb3-17"><a href="#cb3-17"></a>  <span class="fu">annotate</span>(<span class="st">"rect"</span>,</span>
<span id="cb3-18"><a href="#cb3-18"></a>           <span class="at">xmin =</span> <span class="fu">as.Date</span>(<span class="st">"2024-08-01"</span>),</span>
<span id="cb3-19"><a href="#cb3-19"></a>           <span class="at">xmax =</span> <span class="fu">as.Date</span>(<span class="st">"2024-08-31"</span>),</span>
<span id="cb3-20"><a href="#cb3-20"></a>           <span class="at">ymin =</span> <span class="sc">-</span><span class="cn">Inf</span>,</span>
<span id="cb3-21"><a href="#cb3-21"></a>           <span class="at">ymax =</span> <span class="cn">Inf</span>,</span>
<span id="cb3-22"><a href="#cb3-22"></a>           <span class="at">alpha =</span> <span class="fl">0.2</span>,</span>
<span id="cb3-23"><a href="#cb3-23"></a>           <span class="at">fill =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb3-24"><a href="#cb3-24"></a>  <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">y =</span> note_count), <span class="at">fill =</span> <span class="st">'grey30'</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb3-25"><a href="#cb3-25"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> pct_publish <span class="sc">/</span> scale), <span class="at">color =</span> <span class="st">'orange2'</span>, <span class="at">size =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb3-26"><a href="#cb3-26"></a>  <span class="fu">scale_y_continuous</span>(</span>
<span id="cb3-27"><a href="#cb3-27"></a>    <span class="at">name =</span> <span class="st">"Note Count"</span>,</span>
<span id="cb3-28"><a href="#cb3-28"></a>    <span class="at">sec.axis =</span> <span class="fu">sec_axis</span>(<span class="at">trans =</span> <span class="sc">~</span> . <span class="sc">*</span> scale, <span class="at">name =</span> <span class="st">"Pct Publish"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="x-community-notes-effectiveness_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
<p><strong>Blue (Premium) Users accounted for 75% of all Community Noted posts, despite being 12% of the overall user base.</strong></p>
<ul>
<li><p>Blue users made up 75% of all authors with Community Noted posts (1,700 of 2,264 unique user ids.)</p></li>
<li><p>Blue users make up only 11.6% of the total user accounts represented the raw posts data (439k of 4.2M user ids)</p></li>
<li><p>While not analyzed further here, this appears to agree with research suggesting that Blue users were the primary drivers of misinformation on X during recent crises. <span class="citation" data-cites="brewster2023">(<a href="#ref-brewster2023" role="doc-biblioref">Brewster, Howard, and Schimmel 2023</a>)</span></p></li>
</ul>
</section>
<section id="data-modeling-analysis" class="level2">
<h2 class="anchored" data-anchor-id="data-modeling-analysis">6.3 Data Modeling &amp; Analysis</h2>
<section id="quantile-regression" class="level3">
<h3 class="anchored" data-anchor-id="quantile-regression">6.3.1 Quantile Regression</h3>
<p>Both <strong>Linear</strong> and <strong>Robust Regressions</strong> were initially fit with log-transformation on the response, normalization of the predictors and handling of multi-collinearity but the resulting models were unstable and failed to explain a significant proportion of the variance in the Time-to-Publish (TTP) response variable.</p>
<p>As noted above the relationships of the predictors to the TTP response are highly noisy, non-linear and include many extreme values that are difficult for linear models. However, since these outliers are part of the topic of interest and are arguably not drawn from a different distribution, approaches are required to deal with these conditions while retaining interpretability.</p>
<p><strong>Quantile Regression</strong> was selected instead to examine feature importance and marginal effects of the predictors at various quantiles of the TTP response variable, while handling the distribution skew and outliers more effectively. For this model the log-transformation was applied to the response, predictors were normalized, and multi-collinearity was handled by removing aliases and features with over 85% collinearity while retaining as much interpretability as possible.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="co"># prep data for modeling</span></span>
<span id="cb4-2"><a href="#cb4-2"></a>df_mod <span class="ot">&lt;-</span> df_notes_pub <span class="sc">%&gt;%</span></span>
<span id="cb4-3"><a href="#cb4-3"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">all_of</span>(<span class="fu">c</span>(<span class="st">'nt_status_current'</span>,<span class="st">'nt_status_changed'</span>, <span class="st">'nt_publish_revoked'</span>, <span class="st">'nt_publish_revoked_min'</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb4-4"><a href="#cb4-4"></a>  <span class="fu">mutate</span>(<span class="at">twt_lang =</span> <span class="fu">as.factor</span>(twt_lang))</span>
<span id="cb4-5"><a href="#cb4-5"></a></span>
<span id="cb4-6"><a href="#cb4-6"></a><span class="co"># inpute twt_views</span></span>
<span id="cb4-7"><a href="#cb4-7"></a>imp <span class="ot">&lt;-</span> <span class="fu">mice</span>(df_mod, <span class="at">maxit =</span> <span class="dv">5</span>, <span class="at">m =</span> <span class="dv">5</span>, <span class="at">print =</span> <span class="cn">FALSE</span>, </span>
<span id="cb4-8"><a href="#cb4-8"></a>  <span class="at">predictorMatrix =</span> {</span>
<span id="cb4-9"><a href="#cb4-9"></a>    pm <span class="ot">&lt;-</span> <span class="fu">make.predictorMatrix</span>(df_mod)</span>
<span id="cb4-10"><a href="#cb4-10"></a>    pm[,] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb4-11"><a href="#cb4-11"></a>    pm[<span class="st">"twt_views"</span>, <span class="fu">c</span>(<span class="st">"twt_replies"</span>, <span class="st">"twt_retweets"</span>, <span class="st">"twt_likes"</span>, <span class="st">"twt_quotes"</span>,<span class="st">"user_follower_ct"</span>,<span class="st">"user_friend_ct"</span>)] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb4-12"><a href="#cb4-12"></a>    pm</span>
<span id="cb4-13"><a href="#cb4-13"></a>  })</span>
<span id="cb4-14"><a href="#cb4-14"></a></span>
<span id="cb4-15"><a href="#cb4-15"></a><span class="co"># stripplot(imp, twt_views, pch = 19, xlab = "Imputation number")</span></span>
<span id="cb4-16"><a href="#cb4-16"></a>df_mod_imp <span class="ot">&lt;-</span> <span class="fu">complete</span>(imp, <span class="at">action =</span> <span class="dv">2</span>)</span>
<span id="cb4-17"><a href="#cb4-17"></a></span>
<span id="cb4-18"><a href="#cb4-18"></a><span class="do">## multicolliearity</span></span>
<span id="cb4-19"><a href="#cb4-19"></a></span>
<span id="cb4-20"><a href="#cb4-20"></a><span class="co"># check for aliases (duplicate or linearly dependent columns)</span></span>
<span id="cb4-21"><a href="#cb4-21"></a>df_alias <span class="ot">&lt;-</span> <span class="fu">alias</span>(<span class="fu">lm</span>(nt_publish_min <span class="sc">~</span> ., <span class="at">data =</span> df_mod_imp))</span>
<span id="cb4-22"><a href="#cb4-22"></a><span class="co"># remove 'nt_class_notmis_opinion','nr_rating_helpful_not','nr_mean_agg'</span></span>
<span id="cb4-23"><a href="#cb4-23"></a></span>
<span id="cb4-24"><a href="#cb4-24"></a><span class="co"># check for high correlations</span></span>
<span id="cb4-25"><a href="#cb4-25"></a>c_df_mod_imp <span class="ot">&lt;-</span> <span class="fu">correlate</span>(df_mod_imp)</span>
<span id="cb4-26"><a href="#cb4-26"></a><span class="co"># c_df_mod_imp %&gt;% shave(upper=FALSE) %&gt;% rplot()</span></span>
<span id="cb4-27"><a href="#cb4-27"></a></span>
<span id="cb4-28"><a href="#cb4-28"></a>cor_long <span class="ot">&lt;-</span> c_df_mod_imp <span class="sc">%&gt;%</span></span>
<span id="cb4-29"><a href="#cb4-29"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">-</span>term, <span class="at">names_to =</span> <span class="st">"variable"</span>, <span class="at">values_to =</span> <span class="st">"correlation"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-30"><a href="#cb4-30"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(correlation), <span class="fu">abs</span>(correlation) <span class="sc">&gt;=</span> <span class="fl">0.85</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-31"><a href="#cb4-31"></a>  <span class="fu">filter</span>(term <span class="sc">!=</span> variable) <span class="sc">%&gt;%</span></span>
<span id="cb4-32"><a href="#cb4-32"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span></span>
<span id="cb4-33"><a href="#cb4-33"></a>  <span class="fu">mutate</span>(<span class="at">pair =</span> <span class="fu">paste</span>(<span class="fu">sort</span>(<span class="fu">c</span>(term, variable)), <span class="at">collapse =</span> <span class="st">"_"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb4-34"><a href="#cb4-34"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb4-35"><a href="#cb4-35"></a>  <span class="fu">distinct</span>(pair, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-36"><a href="#cb4-36"></a>  <span class="fu">select</span>(term, variable, correlation)</span>
<span id="cb4-37"><a href="#cb4-37"></a></span>
<span id="cb4-38"><a href="#cb4-38"></a><span class="co"># cor_long</span></span>
<span id="cb4-39"><a href="#cb4-39"></a><span class="co"># remove polar_std, polar_entropy, ratings_agg, nr_nothelpful_missing, nr_nothelpful_nnn</span></span>
<span id="cb4-40"><a href="#cb4-40"></a></span>
<span id="cb4-41"><a href="#cb4-41"></a><span class="co"># manual selection</span></span>
<span id="cb4-42"><a href="#cb4-42"></a>df_mod_imp <span class="ot">&lt;-</span> df_mod_imp <span class="sc">%&gt;%</span></span>
<span id="cb4-43"><a href="#cb4-43"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">any_of</span>(<span class="fu">c</span>(<span class="st">'nt_class_notmis_opinion'</span>, <span class="st">'nr_rating_helpful_not'</span>, <span class="st">'nr_mean_agg'</span>, <span class="st">'nr_polar_std'</span>, <span class="st">'nr_polar_entropy'</span>, <span class="st">'nr_ratings_agg'</span>, <span class="st">'nr_nothelpful_missing'</span>, <span class="st">'nr_nothelpful_nnn'</span>)))</span>
<span id="cb4-44"><a href="#cb4-44"></a></span>
<span id="cb4-45"><a href="#cb4-45"></a><span class="co"># quantile regression</span></span>
<span id="cb4-46"><a href="#cb4-46"></a>qr_recipe <span class="ot">&lt;-</span> </span>
<span id="cb4-47"><a href="#cb4-47"></a>  <span class="fu">recipe</span>(nt_publish_min <span class="sc">~</span> ., <span class="at">data =</span> df_mod_imp) <span class="sc">%&gt;%</span></span>
<span id="cb4-48"><a href="#cb4-48"></a>  <span class="fu">step_log</span>(<span class="fu">all_outcomes</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb4-49"><a href="#cb4-49"></a>  <span class="fu">step_normalize</span>(<span class="fu">all_numeric_predictors</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb4-50"><a href="#cb4-50"></a>  <span class="fu">step_dummy</span>(twt_lang)</span>
<span id="cb4-51"><a href="#cb4-51"></a></span>
<span id="cb4-52"><a href="#cb4-52"></a><span class="co"># df for qr</span></span>
<span id="cb4-53"><a href="#cb4-53"></a>df_qr_prep <span class="ot">&lt;-</span> <span class="fu">prep</span>(qr_recipe, <span class="at">training =</span> df_mod_imp) <span class="sc">%&gt;%</span> <span class="fu">bake</span>(<span class="at">new_data=</span><span class="cn">NULL</span>)</span>
<span id="cb4-54"><a href="#cb4-54"></a></span>
<span id="cb4-55"><a href="#cb4-55"></a><span class="co"># fit qr on quartiles</span></span>
<span id="cb4-56"><a href="#cb4-56"></a>qr_mod1 <span class="ot">&lt;-</span> <span class="fu">rq</span>(nt_publish_min <span class="sc">~</span> ., <span class="at">tau =</span> <span class="fu">c</span>(<span class="fl">0.25</span>, <span class="fl">0.5</span>, <span class="fl">0.75</span>, <span class="fl">1.0</span>), <span class="at">data =</span> df_qr_prep)</span>
<span id="cb4-57"><a href="#cb4-57"></a></span>
<span id="cb4-58"><a href="#cb4-58"></a><span class="co"># bootstrap SEs</span></span>
<span id="cb4-59"><a href="#cb4-59"></a>qr_results <span class="ot">&lt;-</span> <span class="fu">summary</span>(qr_mod1, <span class="at">se =</span> <span class="st">"boot"</span>, <span class="at">R =</span> <span class="dv">1000</span>)</span>
<span id="cb4-60"><a href="#cb4-60"></a></span>
<span id="cb4-61"><a href="#cb4-61"></a><span class="co"># function to back-transform based on log response</span></span>
<span id="cb4-62"><a href="#cb4-62"></a>func_qr_back <span class="ot">&lt;-</span> <span class="cf">function</span>(df){</span>
<span id="cb4-63"><a href="#cb4-63"></a>  df <span class="sc">%&gt;%</span></span>
<span id="cb4-64"><a href="#cb4-64"></a>    <span class="fu">rownames_to_column</span>() <span class="sc">%&gt;%</span></span>
<span id="cb4-65"><a href="#cb4-65"></a>    <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Std. Error</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">exp</span>(Value) <span class="sc">*</span> <span class="st">`</span><span class="at">Std. Error</span><span class="st">`</span>, <span class="co"># goes first</span></span>
<span id="cb4-66"><a href="#cb4-66"></a>            <span class="at">Value =</span> <span class="fu">ifelse</span>(rowname <span class="sc">==</span> <span class="st">'(Intercept)'</span>, <span class="sc">-</span><span class="fu">exp</span>(Value), <span class="fu">exp</span>(Value)<span class="sc">-</span><span class="dv">1</span>), </span>
<span id="cb4-67"><a href="#cb4-67"></a>            <span class="st">`</span><span class="at">t value</span><span class="st">`</span> <span class="ot">=</span> Value <span class="sc">/</span> <span class="st">`</span><span class="at">Std. Error</span><span class="st">`</span>, </span>
<span id="cb4-68"><a href="#cb4-68"></a>            <span class="at">ci_lo =</span> Value <span class="sc">-</span> <span class="fl">1.96</span> <span class="sc">*</span> <span class="st">`</span><span class="at">Std. Error</span><span class="st">`</span>, </span>
<span id="cb4-69"><a href="#cb4-69"></a>            <span class="at">ci_hi =</span> Value <span class="sc">+</span> <span class="fl">1.96</span> <span class="sc">*</span> <span class="st">`</span><span class="at">Std. Error</span><span class="st">`</span>)}</span>
<span id="cb4-70"><a href="#cb4-70"></a></span>
<span id="cb4-71"><a href="#cb4-71"></a><span class="co"># back-transform and join tables</span></span>
<span id="cb4-72"><a href="#cb4-72"></a>df_qr_q25 <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(qr_results[[<span class="dv">1</span>]]<span class="sc">$</span>coefficients) <span class="sc">%&gt;%</span></span>
<span id="cb4-73"><a href="#cb4-73"></a>  func_qr_back <span class="sc">%&gt;%</span></span>
<span id="cb4-74"><a href="#cb4-74"></a>  <span class="fu">rename</span>(<span class="at">val_25 =</span> <span class="dv">2</span>, <span class="at">se_25 =</span> <span class="dv">3</span>, <span class="at">t_25 =</span> <span class="dv">4</span>, <span class="at">p_25 =</span> <span class="dv">5</span>, <span class="at">ci_lo_25 =</span> <span class="dv">6</span>, <span class="at">ci_hi_25 =</span> <span class="dv">7</span>)</span>
<span id="cb4-75"><a href="#cb4-75"></a>  </span>
<span id="cb4-76"><a href="#cb4-76"></a>df_qr_q50 <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(qr_results[[<span class="dv">2</span>]]<span class="sc">$</span>coefficients) <span class="sc">%&gt;%</span> </span>
<span id="cb4-77"><a href="#cb4-77"></a>  func_qr_back <span class="sc">%&gt;%</span></span>
<span id="cb4-78"><a href="#cb4-78"></a>  <span class="fu">rename</span>(<span class="at">val_50 =</span> <span class="dv">2</span>, <span class="at">se_50 =</span> <span class="dv">3</span>, <span class="at">t_50 =</span> <span class="dv">4</span>, <span class="at">p_50 =</span> <span class="dv">5</span>, <span class="at">ci_lo_50 =</span> <span class="dv">6</span>, <span class="at">ci_hi_50 =</span> <span class="dv">7</span>)</span>
<span id="cb4-79"><a href="#cb4-79"></a></span>
<span id="cb4-80"><a href="#cb4-80"></a>df_qr_q75 <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(qr_results[[<span class="dv">3</span>]]<span class="sc">$</span>coefficients) <span class="sc">%&gt;%</span> </span>
<span id="cb4-81"><a href="#cb4-81"></a>  func_qr_back <span class="sc">%&gt;%</span></span>
<span id="cb4-82"><a href="#cb4-82"></a>  <span class="fu">rename</span>(<span class="at">val_75 =</span> <span class="dv">2</span>, <span class="at">se_75 =</span> <span class="dv">3</span>, <span class="at">t_75 =</span> <span class="dv">4</span>, <span class="at">p_75 =</span> <span class="dv">5</span>, <span class="at">ci_lo_75 =</span> <span class="dv">6</span>, <span class="at">ci_hi_75 =</span> <span class="dv">7</span>)</span>
<span id="cb4-83"><a href="#cb4-83"></a></span>
<span id="cb4-84"><a href="#cb4-84"></a>df_qr_q100 <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(qr_results[[<span class="dv">4</span>]]<span class="sc">$</span>coefficients) <span class="sc">%&gt;%</span> </span>
<span id="cb4-85"><a href="#cb4-85"></a>  func_qr_back <span class="sc">%&gt;%</span></span>
<span id="cb4-86"><a href="#cb4-86"></a>  <span class="fu">rename</span>(<span class="at">val_100 =</span> <span class="dv">2</span>, <span class="at">se_100 =</span> <span class="dv">3</span>, <span class="at">t_100 =</span> <span class="dv">4</span>, <span class="at">p_100 =</span> <span class="dv">5</span>, <span class="at">ci_lo_100 =</span> <span class="dv">6</span>, <span class="at">ci_hi_100 =</span> <span class="dv">7</span>)</span>
<span id="cb4-87"><a href="#cb4-87"></a></span>
<span id="cb4-88"><a href="#cb4-88"></a>df_qr_results <span class="ot">&lt;-</span> </span>
<span id="cb4-89"><a href="#cb4-89"></a>  <span class="fu">Reduce</span>(<span class="cf">function</span>(x, y) <span class="fu">left_join</span>(x, y, <span class="at">by =</span> <span class="st">'rowname'</span>), <span class="fu">list</span>(df_qr_q25, df_qr_q50, df_qr_q75, df_qr_q100)) <span class="sc">%&gt;%</span></span>
<span id="cb4-90"><a href="#cb4-90"></a>  <span class="fu">mutate</span>(<span class="at">sum_p =</span> <span class="fu">rowSums</span>(<span class="fu">select</span>(., <span class="fu">starts_with</span>(<span class="st">"p_"</span>)))) <span class="sc">%&gt;%</span></span>
<span id="cb4-91"><a href="#cb4-91"></a>  <span class="fu">left_join</span>(df_nicenames)</span>
<span id="cb4-92"><a href="#cb4-92"></a></span>
<span id="cb4-93"><a href="#cb4-93"></a><span class="co"># graphs</span></span>
<span id="cb4-94"><a href="#cb4-94"></a></span>
<span id="cb4-95"><a href="#cb4-95"></a><span class="co"># function for qr graphs</span></span>
<span id="cb4-96"><a href="#cb4-96"></a>func_qr_graphs <span class="ot">&lt;-</span> <span class="cf">function</span>(df, var) {</span>
<span id="cb4-97"><a href="#cb4-97"></a>  df_var <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(rowname <span class="sc">==</span> var)</span>
<span id="cb4-98"><a href="#cb4-98"></a>  nicename <span class="ot">&lt;-</span> <span class="fu">unique</span>(df_var<span class="sc">$</span>nicename)</span>
<span id="cb4-99"><a href="#cb4-99"></a></span>
<span id="cb4-100"><a href="#cb4-100"></a>  df_var <span class="sc">%&gt;%</span></span>
<span id="cb4-101"><a href="#cb4-101"></a>    <span class="fu">select</span>(<span class="fu">any_of</span>(<span class="fu">starts_with</span>(<span class="fu">c</span>(<span class="st">'val_'</span>,<span class="st">'ci_'</span>,<span class="st">'p_'</span>)))) <span class="sc">%&gt;%</span></span>
<span id="cb4-102"><a href="#cb4-102"></a>    <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">everything</span>(),</span>
<span id="cb4-103"><a href="#cb4-103"></a>                 <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">".value"</span>, <span class="st">"quantile"</span>),</span>
<span id="cb4-104"><a href="#cb4-104"></a>                 <span class="at">names_pattern =</span> <span class="st">"(.*)_(</span><span class="sc">\\</span><span class="st">d+)"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-105"><a href="#cb4-105"></a>    <span class="fu">mutate</span>(</span>
<span id="cb4-106"><a href="#cb4-106"></a>      <span class="at">quantile =</span> <span class="fu">as.numeric</span>(quantile),</span>
<span id="cb4-107"><a href="#cb4-107"></a>      <span class="at">color =</span> <span class="fu">case_when</span>(p <span class="sc">&lt;=</span> <span class="fl">0.05</span> <span class="sc">~</span> <span class="st">"green"</span>,</span>
<span id="cb4-108"><a href="#cb4-108"></a>                        p <span class="sc">&gt;</span> <span class="fl">0.05</span> <span class="sc">&amp;</span> p <span class="sc">&lt;=</span> <span class="fl">0.10</span> <span class="sc">~</span> <span class="st">"yellow"</span>,</span>
<span id="cb4-109"><a href="#cb4-109"></a>                        p <span class="sc">&gt;</span> <span class="fl">0.10</span> <span class="sc">&amp;</span> p <span class="sc">&lt;=</span> <span class="fl">0.20</span> <span class="sc">~</span> <span class="st">"orange"</span>,</span>
<span id="cb4-110"><a href="#cb4-110"></a>                        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"red"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb4-111"><a href="#cb4-111"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> quantile, <span class="at">y =</span> val)) <span class="sc">+</span></span>
<span id="cb4-112"><a href="#cb4-112"></a>      <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb4-113"><a href="#cb4-113"></a>      <span class="fu">geom_ribbon</span>(<span class="fu">aes</span>(<span class="at">ymin =</span> ci_lo, <span class="at">ymax =</span> ci_hi), <span class="at">alpha =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb4-114"><a href="#cb4-114"></a>      <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> color), <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb4-115"><a href="#cb4-115"></a>      <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">paste0</span>(<span class="fu">round</span>(val <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">0</span>), <span class="st">"%"</span>)), <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">1.2</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb4-116"><a href="#cb4-116"></a>      <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb4-117"><a href="#cb4-117"></a>      <span class="fu">scale_color_identity</span>() <span class="sc">+</span></span>
<span id="cb4-118"><a href="#cb4-118"></a>      <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">25</span>, <span class="dv">50</span>, <span class="dv">75</span>, <span class="dv">100</span>)) <span class="sc">+</span></span>
<span id="cb4-119"><a href="#cb4-119"></a>      <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Quantile"</span>, <span class="at">y =</span> <span class="st">"Value"</span>, <span class="at">title =</span> nicename)</span>
<span id="cb4-120"><a href="#cb4-120"></a>    }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="model-coefficients" class="level4">
<h4 class="anchored" data-anchor-id="model-coefficients">Model Coefficients</h4>
<p>The resulting coefficients were back-transformed to original scale and may be interpreted as having a multiplicative relationship with the response variable, <strong>Time to Publish (TTP)</strong>, holding all other variables constant.</p>
<p>For example, a <strong>+10%</strong> point estimate for a given variable and quantile indicates that for a 1-unit increase in the variable (whether a proportion, a count, or a True condition for a Boolean) we may expect a <strong>10% marginal increase</strong> in TTP, holding all other variables constant.</p>
<p>Likewise, a <strong>-10%</strong> point estimate indicates a 1-unit increase in the variable would be associated with a <strong>10% marginal decrease</strong> in TTP, holding all other variables constant.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 43%">
<col style="width: 56%">
</colgroup>
<thead>
<tr class="header">
<th>Quartiles and TTP</th>
<th>Significance Levels</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>TTP distribution is extremely right-skewed. Median TTP is 8.7 hours (Mean 35.8, SD 159)</td>
<td>Individual estimates at all levels of significance are included in the graphs, but should be considered accordingly:</td>
</tr>
<tr class="even">
<td><ul>
<li><p><strong>First Quartile (p25):</strong> &lt;= 4.7 hrs</p></li>
<li><p><strong>Second Quartile (p50):</strong> &lt;= 8.7 hrs</p></li>
<li><p><strong>Third Quartile (p75):</strong> &lt;= 18 hrs</p></li>
<li><p><strong>Fourth Quartile (p100):</strong> &gt; 18 hrs</p></li>
</ul></td>
<td><ul>
<li><p><strong>Green</strong> for p &lt;= 0.05 (high significance)</p></li>
<li><p><strong>Yellow</strong> for p &gt; 0.05 and &lt;= 0.10 (moderate high)</p></li>
<li><p><strong>Orange</strong> for p &gt; 0.10 and &lt;= 0.20 (moderate low)</p></li>
<li><p><strong>Red</strong> for p &gt; 0.20 (low significance)</p></li>
</ul></td>
</tr>
</tbody>
</table>
</section>
<section id="post-classification" class="level4">
<h4 class="anchored" data-anchor-id="post-classification">Post Classification</h4>
<p>Post Classifications are assigned by the Community Note authors, categorizing the attached posts as Misinfo or Not Misinfo, along with related subcategories. These are expressed as Booleans.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="co"># note classification</span></span>
<span id="cb5-2"><a href="#cb5-2"></a>top_qr_rows <span class="ot">&lt;-</span> df_qr_results <span class="sc">%&gt;%</span></span>
<span id="cb5-3"><a href="#cb5-3"></a>  <span class="fu">filter</span>(<span class="fu">str_starts</span>(rowname, <span class="st">"nt_"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb5-4"><a href="#cb5-4"></a>  <span class="fu">arrange</span>(sum_p) <span class="sc">%&gt;%</span></span>
<span id="cb5-5"><a href="#cb5-5"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">12</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-6"><a href="#cb5-6"></a>  <span class="fu">pull</span>(rowname)</span>
<span id="cb5-7"><a href="#cb5-7"></a></span>
<span id="cb5-8"><a href="#cb5-8"></a>plots <span class="ot">&lt;-</span> <span class="fu">lapply</span>(top_qr_rows, <span class="cf">function</span>(row) <span class="fu">func_qr_graphs</span>(df_qr_results, row))</span>
<span id="cb5-9"><a href="#cb5-9"></a><span class="fu">wrap_plots</span>(plots, <span class="at">ncol =</span> <span class="dv">3</span>, <span class="at">heights=</span><span class="dv">5</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="x-community-notes-effectiveness_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
<p><strong>Shorter TTP</strong></p>
<ul>
<li><p><strong>Is Media Note:</strong> Notes that address specific <strong>media</strong> attached to a Post (images, videos) rather than the Post content itself seem to have a consistent and significant association with shorter TTP. In fact, this effect increases at higher quartiles, suggesting this format may be beneficial for Notes that may otherwise be delayed by other factors.</p></li>
<li><p><strong>Misinfo:</strong> Posts broadly categorized as <strong>Misinfo</strong> or Misleading are consistently associated with dramatically shorter TTP (-50%+), though most of these estimates have low significance. This effect is the highest and most significant in the top quartile.</p></li>
</ul>
<p><strong>Longer TTP</strong></p>
<ul>
<li><p><strong>Misinfo - Not Factual:</strong> Posts categorized as <strong>Misinfo - Not Factual</strong> are consistently associated with longer TTP, most significantly in the first quartile (+35%) and last quartile (+89%). This seems at odds with the broader parent classification <strong>Misinfo</strong> and could indicate dynamics such as greater disagreement between high-scoring raters over factual correctness, or simply a lower degree of rater engagement on this particular subtopic.</p></li>
<li><p><strong>Misinfo - Media Manipulation:</strong> Posts categorized as containing manipulated media (deepfakes, doctored footage) had a strong and moderately significant effect in the first quartile (+36), with decreasing effects for greater quartiles. Whether this is due to greater disagreement or lower rater engagement with the subtopic, the effect seems to largely impact Notes published within the first 24 hours.</p></li>
</ul>
</section>
<section id="note-ratings-1" class="level4">
<h4 class="anchored" data-anchor-id="note-ratings-1">Note Ratings</h4>
<p>Note Ratings are assigned by users that participate in the Community Notes program. Expressed as proportions of total ratings per Note.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="co"># note ratings</span></span>
<span id="cb6-2"><a href="#cb6-2"></a>top_qr_rows <span class="ot">&lt;-</span> df_qr_results <span class="sc">%&gt;%</span></span>
<span id="cb6-3"><a href="#cb6-3"></a>  <span class="fu">filter</span>(<span class="fu">str_starts</span>(rowname, <span class="st">"nr_"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb6-4"><a href="#cb6-4"></a>  <span class="fu">arrange</span>(sum_p) <span class="sc">%&gt;%</span></span>
<span id="cb6-5"><a href="#cb6-5"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">12</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-6"><a href="#cb6-6"></a>  <span class="fu">pull</span>(rowname)</span>
<span id="cb6-7"><a href="#cb6-7"></a></span>
<span id="cb6-8"><a href="#cb6-8"></a>plots <span class="ot">&lt;-</span> <span class="fu">lapply</span>(top_qr_rows, <span class="cf">function</span>(row) <span class="fu">func_qr_graphs</span>(df_qr_results, row))</span>
<span id="cb6-9"><a href="#cb6-9"></a><span class="fu">wrap_plots</span>(plots, <span class="at">ncol =</span> <span class="dv">3</span>, <span class="at">heights=</span><span class="dv">5</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="x-community-notes-effectiveness_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
<p><strong>Shorter TTP</strong></p>
<ul>
<li><p><strong>Ratings Count:</strong> Similar to <strong>Is Media Note</strong>, this factor seems consistently effective and significant across all quartiles, outlining that increased Rater interest and participation in the process helps reduce TTP for any given Note.</p></li>
<li><p><strong>Not Helpful - Incorrect:</strong> Notes that are rated Not Helpful due to factual errors are associated with shorter TTP, with the effect increasing at higher quartiles.</p>
<ul>
<li>This is one of the more counter-intuitive findings of the model, in which rater agreement on <strong>lower-quality notes</strong> is associated with <strong>shorter</strong> TTP, not longer.</li>
</ul></li>
<li><p><strong>Helpful - Some</strong> and <strong>Helpful - Addresses Issue:</strong> Both ratings are associated with decreases in TTP, with effects and significance generally increasing at higher quartiles.</p></li>
</ul>
<p><strong>Longer TTP</strong></p>
<ul>
<li><p><strong>Helpful - Source Reliable:</strong> Notes rated as drawing on reliable sources are associated with longer TTP, increasing over greater quartiles with a large and highly significant effect (+170%) in the last quartile.</p>
<ul>
<li>This is another counter-intuitive finding in which rater agreement on <strong>higher-quality notes</strong> is associated with <strong>longer</strong> TTP, not shorter.</li>
</ul></li>
<li><p><strong>Not Helpful - Opinion:</strong> Notes rated as Opinion are associated with longer TTP, though at low significance levels.</p></li>
</ul>
</section>
<section id="post-language" class="level4">
<h4 class="anchored" data-anchor-id="post-language">Post Language</h4>
<p>Post Language is expressed as a Boolean.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="co"># post language</span></span>
<span id="cb7-2"><a href="#cb7-2"></a>top_qr_rows <span class="ot">&lt;-</span> df_qr_results <span class="sc">%&gt;%</span></span>
<span id="cb7-3"><a href="#cb7-3"></a>  <span class="fu">filter</span>(<span class="fu">str_starts</span>(rowname, <span class="st">"twt_lang"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb7-4"><a href="#cb7-4"></a>  <span class="fu">arrange</span>(sum_p) <span class="sc">%&gt;%</span></span>
<span id="cb7-5"><a href="#cb7-5"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">12</span>) <span class="sc">%&gt;%</span></span>
<span id="cb7-6"><a href="#cb7-6"></a>  <span class="fu">pull</span>(rowname)</span>
<span id="cb7-7"><a href="#cb7-7"></a></span>
<span id="cb7-8"><a href="#cb7-8"></a>plots <span class="ot">&lt;-</span> <span class="fu">lapply</span>(top_qr_rows, <span class="cf">function</span>(row) <span class="fu">func_qr_graphs</span>(df_qr_results, row))</span>
<span id="cb7-9"><a href="#cb7-9"></a><span class="fu">wrap_plots</span>(plots, <span class="at">ncol =</span> <span class="dv">3</span>, <span class="at">heights=</span><span class="dv">5</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="x-community-notes-effectiveness_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
<ul>
<li><strong>Post Language:</strong> While significance levels were variable, nearly all Language classifications shared similar effects with increasing TTP and uncertainty towards higher quartiles. However Polish-language posts are the exception with decreasing TTP and stronger significance toward higher quartiles.
<ul>
<li>One possible hypothesis could be the presence of a relatively active community of Polish-language raters and/or better participation levels due to a relatively smaller proportion of Polish-language tweets.</li>
</ul></li>
</ul>
</section>
<section id="post-engagement" class="level4">
<h4 class="anchored" data-anchor-id="post-engagement">Post Engagement</h4>
<p>Post Engagement effects tend to be on a smaller scale since they are based on counts rather than categoricals or overall proportions.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="co"># post engagement</span></span>
<span id="cb8-2"><a href="#cb8-2"></a>top_qr_rows <span class="ot">&lt;-</span> df_qr_results <span class="sc">%&gt;%</span></span>
<span id="cb8-3"><a href="#cb8-3"></a>  <span class="fu">filter</span>(<span class="fu">str_starts</span>(rowname, <span class="st">"twt_"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb8-4"><a href="#cb8-4"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">str_starts</span>(rowname, <span class="st">"twt_lang"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb8-5"><a href="#cb8-5"></a>  <span class="fu">arrange</span>(sum_p) <span class="sc">%&gt;%</span></span>
<span id="cb8-6"><a href="#cb8-6"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">12</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-7"><a href="#cb8-7"></a>  <span class="fu">pull</span>(rowname)</span>
<span id="cb8-8"><a href="#cb8-8"></a></span>
<span id="cb8-9"><a href="#cb8-9"></a>plots <span class="ot">&lt;-</span> <span class="fu">lapply</span>(top_qr_rows, <span class="cf">function</span>(row) <span class="fu">func_qr_graphs</span>(df_qr_results, row))</span>
<span id="cb8-10"><a href="#cb8-10"></a><span class="fu">wrap_plots</span>(plots, <span class="at">ncol =</span> <span class="dv">3</span>, <span class="at">heights=</span><span class="dv">5</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="x-community-notes-effectiveness_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
<p><strong>Longer TTP in Lower Quartiles</strong></p>
<ul>
<li>Post <strong>Replies</strong>, <strong>Views</strong>, <strong>Retweets</strong> and Posts that are <strong>Quotes</strong> are associated with slightly longer TTP in the early quartiles, and shorter TTP in the later quartiles.
<ul>
<li>At first this relationship seems counter-intuitive; one might expect Posts with high levels of engagement to also have higher levels of Rater activity. However. for higher quartiles, more time has elapsed, and more Post engagement has likely accrued.</li>
</ul></li>
</ul>
<p><strong>Shorter TTP in Lower Quartiles</strong></p>
<ul>
<li>Post <strong>Likes</strong> have the opposite effect of the other engagement metrics, associated with shorter TTP in the early quartiles, and longer TTP in the later quartiles.
<ul>
<li>One possible explanation for the disparity is that Likes may be a more direct signal of user agreement than Replies, Views or even Retweets, and that the relative popularity of Posts in the earlier quartiles may correlate to increased Rater activity.</li>
<li>This could also be an effect of a recommendation algorithm that prompts Raters to respond to Notes; Likes may be one of many signals that trigger the prompt.</li>
</ul></li>
</ul>
</section>
<section id="post-author" class="level4">
<h4 class="anchored" data-anchor-id="post-author">Post Author</h4>
<p>Post Author metrics are expressed as counts except for <strong>Author:Blue</strong>, which is expressed as a Boolean.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="co"># post author</span></span>
<span id="cb9-2"><a href="#cb9-2"></a>top_qr_rows <span class="ot">&lt;-</span> df_qr_results <span class="sc">%&gt;%</span></span>
<span id="cb9-3"><a href="#cb9-3"></a>  <span class="fu">filter</span>(<span class="fu">str_starts</span>(rowname, <span class="st">"user_"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb9-4"><a href="#cb9-4"></a>  <span class="fu">arrange</span>(sum_p) <span class="sc">%&gt;%</span></span>
<span id="cb9-5"><a href="#cb9-5"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">12</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-6"><a href="#cb9-6"></a>  <span class="fu">pull</span>(rowname)</span>
<span id="cb9-7"><a href="#cb9-7"></a></span>
<span id="cb9-8"><a href="#cb9-8"></a>plots <span class="ot">&lt;-</span> <span class="fu">lapply</span>(top_qr_rows, <span class="cf">function</span>(row) <span class="fu">func_qr_graphs</span>(df_qr_results, row))</span>
<span id="cb9-9"><a href="#cb9-9"></a><span class="fu">wrap_plots</span>(plots, <span class="at">ncol =</span> <span class="dv">3</span>, <span class="at">heights=</span><span class="dv">5</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="x-community-notes-effectiveness_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
<p><strong>Shorter TTP</strong></p>
<ul>
<li><strong>Author - Blue:</strong> Posts from premium “Blue” accounts were associated with significantly shorter TTP in the early quartiles. While this could be an effect of Blue posts receiving preferential, more frequent placement in user feeds, we might consider whether this supports research into Blue accounts driving a larger share of overall misinformation on the platform. <span class="citation" data-cites="brewster2023">(<a href="#ref-brewster2023" role="doc-biblioref">Brewster, Howard, and Schimmel 2023</a>)</span></li>
<li><strong>Friend Count</strong> and <strong>Follower Count</strong>: Both variables are associated with 5-10% shorter TTP in the first three quartiles, possibly correlated to Posts with larger followings and reach.</li>
</ul>
</section>
</section>
<section id="random-forest" class="level3">
<h3 class="anchored" data-anchor-id="random-forest">6.3.2 Random Forest</h3>
<p>In addition to Quantile regression, I fit a random forest model to identify key features affecting Community Note time-to-publication. Using the <code>ranger</code> package with 1000 trees and impurity-based variable importance, the model achieved a fairly low <span class="math inline">\(R^2\)</span> of 0.15, confirming the dataset contains substantial variability that cannot be explained by the Post, Note and User variables alone.</p>
<p>Despite the weakness of the model, the feature importance rankings agreed in many instances with the Quantile regression, confirming the strong effects of Rating counts and Note Helpful classifications, while seeming to emphasize User Account and Post Engagement metrics more heavily.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="co"># random forest</span></span>
<span id="cb10-2"><a href="#cb10-2"></a>rf_recipe <span class="ot">&lt;-</span> </span>
<span id="cb10-3"><a href="#cb10-3"></a>  <span class="fu">recipe</span>(nt_publish_min <span class="sc">~</span> ., <span class="at">data =</span> df_mod) <span class="sc">%&gt;%</span></span>
<span id="cb10-4"><a href="#cb10-4"></a>  <span class="fu">step_log</span>(<span class="fu">all_outcomes</span>())</span>
<span id="cb10-5"><a href="#cb10-5"></a></span>
<span id="cb10-6"><a href="#cb10-6"></a>df_rf_prep <span class="ot">&lt;-</span> <span class="fu">prep</span>(rf_recipe, <span class="at">training =</span> df_mod) <span class="sc">%&gt;%</span> <span class="fu">bake</span>(<span class="at">new_data=</span><span class="cn">NULL</span>)</span>
<span id="cb10-7"><a href="#cb10-7"></a></span>
<span id="cb10-8"><a href="#cb10-8"></a><span class="co"># fit model</span></span>
<span id="cb10-9"><a href="#cb10-9"></a>rf_fit <span class="ot">&lt;-</span> <span class="fu">rand_forest</span>(<span class="at">mode=</span><span class="st">'regression'</span>, <span class="at">trees=</span><span class="dv">1000</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-10"><a href="#cb10-10"></a>  <span class="fu">set_engine</span>(<span class="st">'ranger'</span>, <span class="at">importance=</span><span class="st">'impurity'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-11"><a href="#cb10-11"></a>  <span class="fu">fit</span>(nt_publish_min <span class="sc">~</span> ., df_rf_prep)</span>
<span id="cb10-12"><a href="#cb10-12"></a></span>
<span id="cb10-13"><a href="#cb10-13"></a>rf_fit</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>parsnip model object

Ranger result

Call:
 ranger::ranger(x = maybe_data_frame(x), y = y, num.trees = ~1000,      importance = ~"impurity", num.threads = 1, verbose = FALSE,      seed = sample.int(10^5, 1)) 

Type:                             Regression 
Number of trees:                  1000 
Sample size:                      552 
Number of independent variables:  49 
Mtry:                             7 
Target node size:                 5 
Variable importance mode:         impurity 
Splitrule:                        variance 
OOB prediction error (MSE):       1.200379 
R squared (OOB):                  0.1544627 </code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="co"># variable importance</span></span>
<span id="cb12-2"><a href="#cb12-2"></a>rf_varimp <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb12-3"><a href="#cb12-3"></a>  <span class="at">variable =</span> <span class="fu">names</span>(rf_fit<span class="sc">$</span>fit<span class="sc">$</span>variable.importance),</span>
<span id="cb12-4"><a href="#cb12-4"></a>  <span class="at">importance =</span> <span class="fu">round</span>(rf_fit<span class="sc">$</span>fit<span class="sc">$</span>variable.importance,<span class="dv">3</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb12-5"><a href="#cb12-5"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(importance))</span>
<span id="cb12-6"><a href="#cb12-6"></a></span>
<span id="cb12-7"><a href="#cb12-7"></a><span class="fu">ggplot</span>(rf_varimp[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>,], <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(variable, importance), <span class="at">y =</span> importance)) <span class="sc">+</span></span>
<span id="cb12-8"><a href="#cb12-8"></a>  <span class="fu">geom_col</span>(<span class="at">fill=</span><span class="st">'blue'</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb12-9"><a href="#cb12-9"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb12-10"><a href="#cb12-10"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"RF - Top 10 Variable Importances"</span>, <span class="at">x =</span> <span class="cn">NULL</span>, <span class="at">y =</span> <span class="st">"Importance"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="x-community-notes-effectiveness_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="findings-and-discussion" class="level2">
<h2 class="anchored" data-anchor-id="findings-and-discussion">6.4 Findings and Discussion</h2>
<p>This data offers some support for the hypothesis that X Community Notes time-to-publication varies systematically based on observable factors. This analysis also outlines possible systemic constraints that affect its overall effectiveness as community-driven misinformation intervention tool, supporting other research and the program’s own acknowledgments of technical and computational challenges.</p>
<p><strong>Key Coverage and Performance Metrics (2024 U.S. Presidential Election)</strong></p>
<ul>
<li><p>Community Notes impacted only 0.014% of election-related posts. (5,551 out of 38.5M)</p></li>
<li><p>Only 4% of submitted Notes (585 of 13,745) ever reached publication status.</p></li>
<li><p>Median publication time was 8.7 hours, but with extreme variation. (Mean 35.8, SD 158.7.)</p></li>
<li><p>Status instability affected 36% of classified notes, with 38% of published notes later having their public status revoked.</p></li>
<li><p>Program activity halted entirely during August 2024, a critical pre-election period.</p></li>
<li><p>Blue (Premium) users were disproportionately represented, accounting for 75% of noted posts despite being only 12% of the user base.</p></li>
</ul>
<p><strong>Systematic Factors Affecting Publication Speed</strong></p>
<p>Quantile regression revealed several statistically significant factors affecting TTP:</p>
<p><em>Shorter TTP:</em></p>
<ul>
<li><p>Media-focused notes (addressing images/videos)</p></li>
<li><p>Notes classified misinformation (up to 50% reduction in TTP)</p></li>
<li><p>Higher rating counts (more rater participation)</p></li>
<li><p>Notes classified as Not Helpful - Incorrect</p></li>
<li><p>Accounts with higher follower and friend counts</p></li>
</ul>
<p><em>Longer TTP:</em></p>
<ul>
<li><p>Specifically categorized “Not Factual” content (+35% to +89%)</p></li>
<li><p>Posts with manipulated media (+36% in first quartile)</p></li>
<li><p>Counter-intuitively, notes rated as having reliable sources (+170% in last quartile)</p></li>
</ul>
<p><strong>Technical and Operational Challenges</strong></p>
<p>The platform’s documentation acknowledges several issues these findings appear to support:</p>
<ul>
<li><p>Data sparsity (“most raters do not rate most notes”)</p></li>
<li><p>Scoring instability (notes losing “Helpful” status over time)</p></li>
<li><p>Computational limitations in the consensus algorithms</p></li>
<li><p>Insufficient rater participation as a primary bottleneck</p></li>
</ul>
<p><strong>Implications</strong></p>
<p>When evaluated against X’s <a href="https://communitynotes.x.com/guide/en/about/introduction">own stated objectives</a> for Community Notes, these findings indicate:</p>
<ol type="1">
<li><p>The program struggles with systematic biases affecting which notes receive ratings and which topics reach consensus.</p></li>
<li><p>While technically open-source, unexplained operational disruptions undermine transparency.</p></li>
<li><p>The extremely limited coverage (0.014% of posts) and low publication rate (4% of notes) suggest the program falls far short of providing effective intervention at scale.</p></li>
</ol>
<p>This minimal coverage suggests that users and brands remained exposed to potential misinformation with little protection from the Community Notes program during the 2024 U.S. Presidential Election.</p>
<p>While conceptually promising, the program in its current state appears inadequate to address the scale and complexity of misinformation, particularly during critical periods like elections. The systematic variations in publication speed and extremely low coverage rate suggest fundamental limitations that would need to be addressed for the program to serve as an effective intervention tool.</p>
<p><strong>Future Research Directions</strong></p>
<ul>
<li><p>Analysis of Community Notes user base quality scores and participation rates on publish outcomes.</p></li>
<li><p>Qualitative assessment of the 96% of unpublished notes.</p></li>
<li><p>Measurement of intervention effects on user sentiment, behavior and networks.</p></li>
<li><p>Simulation testing with the open-source CN algorithms to identify bottlenecks.</p></li>
<li><p>Expansion of analyses to other misinformation-heavy topic areas (medical, finance, public emergencies, etc.)</p></li>
</ul>
</section>
<section id="code-and-data" class="level2">
<h2 class="anchored" data-anchor-id="code-and-data">6.5 Code and Data</h2>
<ul>
<li><p>This paper and all code used for data processing and analysis may be found at <a href="https://github.com/jefedigital/social-cdi-effectiveness" class="uri">https://github.com/jefedigital/social-cdi-effectiveness</a>.</p></li>
<li><p>The original <strong>USC X 24 US election X Dataset</strong> is hosted at <a href="https://github.com/sinking8/usc-x-24-us-election" class="uri">https://github.com/sinking8/usc-x-24-us-election</a>.</p></li>
<li><p>All <strong>X Community Notes</strong> datasets are publicly available at <a href="https://x.com/i/communitynotes/download-data" class="uri">https://x.com/i/communitynotes/download-data</a>.</p></li>
</ul>
</section>
</section>
<section id="appendix" class="level1">
<h1>9. Appendix</h1>
<section id="data-dictionary-analysis.notes_ttp" class="level2">
<h2 class="anchored" data-anchor-id="data-dictionary-analysis.notes_ttp">9.1 Data Dictionary: analysis.notes_ttp</h2>
<table class="caption-top table">
<colgroup>
<col style="width: 17%">
<col style="width: 36%">
<col style="width: 17%">
<col style="width: 27%">
</colgroup>
<thead>
<tr class="header">
<th>Column</th>
<th>Description</th>
<th>Column</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>nt_id</strong></td>
<td>Unique Note ID</td>
<td><strong>nr_helpful_sources</strong></td>
<td>Note Ratings - Helpful - Trustworthy Sources</td>
</tr>
<tr class="even">
<td><strong>nt_author_id</strong></td>
<td>Unique Note Author ID</td>
<td><strong>nr_helpful_ctxt_unique</strong></td>
<td>Note Ratings - Helpful - Unique Context</td>
</tr>
<tr class="odd">
<td><strong>nt_ts_created</strong></td>
<td>Note Created (datetime)</td>
<td><strong>nr_helpful_address</strong></td>
<td>Note Ratings - Helpful - Addresses Issue</td>
</tr>
<tr class="even">
<td><strong>nt_is_medianote</strong></td>
<td>Is Media Note (bool)</td>
<td><strong>nr_helpful_ctxt_impt</strong></td>
<td>Note Ratings - Helpful - Important Context</td>
</tr>
<tr class="odd">
<td><strong>nt_created_min</strong></td>
<td>Minutes between Tweet Created and Note Created</td>
<td><strong>nr_helpful_unbiased</strong></td>
<td>Note Ratings - Helpful - Unbiased</td>
</tr>
<tr class="even">
<td><strong>nt_status_current</strong></td>
<td>Note Current Status (NMR, Published)</td>
<td><strong>nr_nothelpful_other</strong></td>
<td>Note Ratings - Not Helpful - Other</td>
</tr>
<tr class="odd">
<td><strong>nt_status_changed</strong></td>
<td>Did Note Status ever change (bool)</td>
<td><strong>nr_nothelpful_incorrect</strong></td>
<td>Note Ratings - Not Helpful -Incorrect</td>
</tr>
<tr class="even">
<td><strong>nt_publish</strong></td>
<td>Was Note ever published (bool)</td>
<td><strong>nr_nothelpful_source</strong></td>
<td>Note Ratings - Not Helpful - Untrustworthy Source</td>
</tr>
<tr class="odd">
<td><strong>nt_publish_min</strong></td>
<td>Minutes between Note Created and Note Published</td>
<td><strong>nr_nothelpful_opinion_bias</strong></td>
<td>Note Ratings - Not Helpful - Biased Opinion</td>
</tr>
<tr class="even">
<td><strong>nt_publish_revoked</strong></td>
<td>Was Note Publish ever revoked (bool)</td>
<td><strong>nr_nothelpful_missing</strong></td>
<td>Note Ratings - Not Helpful - Missing Information</td>
</tr>
<tr class="odd">
<td><strong>nt_publish_revoked_min</strong></td>
<td>Minutes between Note Published at Note Publish Revoked</td>
<td><strong>nr_nothelpful_outdated</strong></td>
<td>Note Ratings - Not Helpful - Outdated</td>
</tr>
<tr class="even">
<td><strong>nt_class_misinfo</strong></td>
<td>Note classified Misinfo (bool)</td>
<td><strong>nr_nothelpful_understand</strong></td>
<td>Note Ratings - Not Helpful - Hard to Understand</td>
</tr>
<tr class="odd">
<td><strong>nt_class_trustsource</strong></td>
<td>Tweet classified Trustworthy Source (bool)</td>
<td><strong>nr_nothelpful_argument</strong></td>
<td>Note Ratings - Not Helpful - Argumentative</td>
</tr>
<tr class="even">
<td><strong>nt_class_mis_misleading</strong></td>
<td>Tweet classified Misinfo - Misleading</td>
<td><strong>nr_nothelpful_offtopic</strong></td>
<td>Note Ratings - Not Helpful - Off Topic</td>
</tr>
<tr class="odd">
<td><strong>nt_class_mis_notfactual</strong></td>
<td>Tweet classified Misinfo - Not Factual</td>
<td><strong>nr_nothelpful_spam</strong></td>
<td>Note Ratings - Not Helpful - Spam</td>
</tr>
<tr class="even">
<td><strong>nt_class_mis_mediamanip</strong></td>
<td>Tweet classified Misinfo - Media Manipulation</td>
<td><strong>nr_nothelpful_source_irrev</strong></td>
<td>Note Ratings - Not Helpful - Irrelevant</td>
</tr>
<tr class="odd">
<td><strong>nt_class_mis_outdated</strong></td>
<td>Tweet classified Misinfo - Outdated</td>
<td><strong>nr_nothelpful_opinion_spec</strong></td>
<td>Note Ratings - Not Helpful - Opinion, Speculation</td>
</tr>
<tr class="even">
<td><strong>nt_class_mis_nocontext</strong></td>
<td>Tweet classified Misinfo - No Context</td>
<td><strong>nr_nothelpful_nnn</strong></td>
<td>Note Ratings - Not Helpful - No Note Needed</td>
</tr>
<tr class="odd">
<td><strong>nt_class_mis_unverified</strong></td>
<td>Tweet classified Misinfo - Unverified</td>
<td><strong>twt_id</strong></td>
<td>Unique Tweet ID</td>
</tr>
<tr class="even">
<td><strong>nt_class_mis_satire</strong></td>
<td>Tweet classified Misinfo - Satire</td>
<td><strong>twt_url</strong></td>
<td>Unique Tweet URL</td>
</tr>
<tr class="odd">
<td><strong>nt_class_notmis_other</strong></td>
<td>Tweet classified Not Misinfo - Other</td>
<td><strong>twt_author_id</strong></td>
<td>Unique Tweet Author ID</td>
</tr>
<tr class="even">
<td><strong>nt_class_notmis_correct</strong></td>
<td>Tweet classified Not Misinfo - Factually Correct</td>
<td><strong>twt_reply_author_id</strong></td>
<td>Unique Reply-to Tweet Author ID</td>
</tr>
<tr class="odd">
<td><strong>nt_class_notmis_notoutdated</strong></td>
<td>Tweet classified Not Misinfo - Not Outdated</td>
<td><strong>twt_convo_id</strong></td>
<td>Conversaion (Original Tweet) ID</td>
</tr>
<tr class="even">
<td><strong>nt_class_notmis_satire</strong></td>
<td>Tweet classified Not Misinfo - Satire</td>
<td><strong>twt_lang</strong></td>
<td>Tweet Language Code</td>
</tr>
<tr class="odd">
<td><strong>nt_class_notmis_opinion</strong></td>
<td>Tweet classified Not Misinfo - Opinion</td>
<td><strong>twt_views</strong></td>
<td>Tweet Views Count</td>
</tr>
<tr class="even">
<td><strong>nr_ratings_ct</strong></td>
<td>Note Ratings - Count of total Ratings</td>
<td><strong>twt_replies</strong></td>
<td>Tweet Replies Count</td>
</tr>
<tr class="odd">
<td><strong>nr_rating_helpful</strong></td>
<td>Note Ratings - Helpful (1.0)</td>
<td><strong>twt_retweets</strong></td>
<td>Tweet Retweets Count</td>
</tr>
<tr class="even">
<td><strong>nr_rating_helpful_somewhat</strong></td>
<td>Note Ratings - Somewhat Helpful (0.5)</td>
<td><strong>twt_likes</strong></td>
<td>Tweet Likes Count</td>
</tr>
<tr class="odd">
<td><strong>nr_rating_helpful_not</strong></td>
<td>Note Ratings - Not Helpful (-1.0)</td>
<td><strong>twt_quotes</strong></td>
<td>Tweet Quotes Count</td>
</tr>
<tr class="even">
<td><strong>nr_ratings_agg</strong></td>
<td>Note Ratings - Weighted Sum - Custom Metric</td>
<td><strong>twt_is_retweet</strong></td>
<td>Tweet is a Retweet (bool)</td>
</tr>
<tr class="odd">
<td><strong>nr_mean_agg</strong></td>
<td>Note Ratings - Mean of Weighted Sum - Custom Metric (-1 to +1)</td>
<td><strong>twt_is_quote</strong></td>
<td>Tweet is a Quote (bool)</td>
</tr>
<tr class="even">
<td><strong>nr_polar_std</strong></td>
<td>Note Ratings - Polarization (Standard) - Custom Metric (0 to 0.5)</td>
<td><strong>user_follower_ct</strong></td>
<td>Tweet Author Follower Count</td>
</tr>
<tr class="odd">
<td><strong>nr_polar_entropy</strong></td>
<td>Note Ratings - Polarization (Entropy) - Custom Metric (0 to ~1.6)</td>
<td><strong>user_friend_ct</strong></td>
<td>Tweet Author Friend Count</td>
</tr>
<tr class="even">
<td><strong>nr_helpful_other</strong></td>
<td>Note Ratings - Helpful - Other</td>
<td><strong>user_blue</strong></td>
<td>Tweet Author is Blue (Premium Account)</td>
</tr>
<tr class="odd">
<td><strong>nr_helpful_clear</strong></td>
<td>Note Ratings - Helpful - Clear</td>
<td><strong>user_created_dt</strong></td>
<td>Tweet Author Account Creation Date</td>
</tr>
<tr class="even">
<td><strong>nr_helpful_empathy</strong></td>
<td>Note Ratings - Helpful - Empathy</td>
<td><strong>user_account_age</strong></td>
<td>Tweet Author Account Age (days)</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="references" class="level1">




</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-allen2022" class="csl-entry" role="listitem">
Allen, Jennifer, Cameron Martel, and David G Rand. 2022. <span>“CHI ’22: CHI Conference on Human Factors in Computing Systems.”</span> In, 1–19. New Orleans LA USA: ACM. <a href="https://doi.org/10.1145/3491102.3502040">https://doi.org/10.1145/3491102.3502040</a>.
</div>
<div id="ref-allen2024" class="csl-entry" role="listitem">
Allen, Matthew R., Nimit Desai, Aiden Namazi, Eric Leas, Mark Dredze, Davey M. Smith, and John W. Ayers. 2024. <span>“Characteristics of x (Formerly Twitter) Community Notes Addressing COVID-19 Vaccine Misinformation.”</span> <em>JAMA</em> 331 (19): 1670–72. <a href="https://doi.org/10.1001/jama.2024.4800">https://doi.org/10.1001/jama.2024.4800</a>.
</div>
<div id="ref-balasubramanian" class="csl-entry" role="listitem">
Balasubramanian, Ashwin, Vito Zou, Hitesh Narayana, Christina You, Luca Luceri, and Emilio Ferrara. n.d. <span>“A Public Dataset Tracking Social Media Discourse about the 2024 u.s. Presidential Election on Twitter/x.”</span> <a href="https://doi.org/10.48550/arXiv.2411.00376">https://doi.org/10.48550/arXiv.2411.00376</a>.
</div>
<div id="ref-brewster2023" class="csl-entry" role="listitem">
Brewster, Jack, Sam Howard, and Becca Schimmel. 2023. <span>“Blue-Checked, <span>‘</span>Verified<span>’</span> Users on x Produce 74 Percent of the Platform<span>’</span>s Most Viral False or Unsubstantiated Claims Relating to the Israel-Hamas War.”</span> <a href="https://www.newsguardtech.com/misinformation-monitor/october-2023">https://www.newsguardtech.com/misinformation-monitor/october-2023</a>.
</div>
<div id="ref-noteran2025" class="csl-entry" role="listitem">
<span>“Note Ranking Algorithm.”</span> 2025. <a href="https://communitynotes.x.com/guide/en/under-the-hood/ranking-notes">https://communitynotes.x.com/guide/en/under-the-hood/ranking-notes</a>.
</div>
<div id="ref-vosoughi2018" class="csl-entry" role="listitem">
Vosoughi, Soroush, Deb Roy, and Sinan Aral. 2018. <span>“The Spread of True and False News Online.”</span> <em>Science</em> 359 (6380): 1146–51. <a href="https://doi.org/10.1126/science.aap9559">https://doi.org/10.1126/science.aap9559</a>.
</div>
<div id="ref-xcommun2025" class="csl-entry" role="listitem">
<span>“X Community Notes.”</span> 2025. <a href="https://communitynotes.x.com/guide/en/about/introduction">https://communitynotes.x.com/guide/en/about/introduction</a>.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>